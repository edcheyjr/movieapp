(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var s=c(1),r=c.n(s),n=c(16),a=c.n(n),i=c(2),o=c(7),j=c(13),l=c.n(j),b=c(17),d=c(9),x=function(e){var t=Object(s.useState)(!0),c=Object(d.a)(t,2),r=c[0],n=c[1],a=Object(s.useState)(null),i=Object(d.a)(a,2),o=i[0],j=i[1],x=Object(s.useState)({show:!1,msg:"",response:""}),m=Object(d.a)(x,2),u=m[0],h=m[1],O=function(){var e=Object(b.a)(l.a.mark((function e(t){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,console.log(c),e.next=8,c.json();case 8:"True"===(s=e.sent).Response?(j(s.Search||s),h({show:!1,msg:"",response:t})):h({show:!0,msg:s.Error}),n(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){O("https://www.omdbapi.com/"+e+"&apikey=489b5133")}),[e]),{isLoading:r,data:o,error:u}},m=c(0),u=function(){var e=Object(i.f)().id,t=x("?i=".concat(e)),c=t.isLoading,s=t.data,r=t.error;if(console.log(s,r),c)return Object(m.jsx)("div",{className:"loading"});if(r.show)return Object(m.jsxs)("div",{className:"page-error",children:[Object(m.jsx)("h1",{children:r.msg}),Object(m.jsx)(o.b,{to:"/",className:"btn",children:"back to movies"})]});var n=s.Poster,a=s.Title,j=s.Plot,l=s.Year;return console.log(n),Object(m.jsxs)("section",{className:" single-movie",children:[Object(m.jsx)("img",{src:n,alt:a}),Object(m.jsxs)("div",{className:"single-movie-info",children:[Object(m.jsx)("h2",{className:"to-gray-800 font-bold text-4xl text-center",children:a}),Object(m.jsx)("p",{className:"text-gray-600 text-xl",children:j}),Object(m.jsx)("h4",{children:l}),Object(m.jsx)(o.b,{to:"/",className:"btn hover:bg-blue-600",children:"back to movies"})]})]})},h=r.a.createContext(),O=function(e){var t=e.children,c=Object(s.useState)("Kong"),r=Object(d.a)(c,2),n=r[0],a=r[1],i=x("?s=".concat(n)),o=i.isLoading,j=i.data,l=i.error;return Object(m.jsx)(h.Provider,{value:{isLoading:o,movies:j,error:l,query:n,setQuery:a},children:t})},v=function(){return Object(s.useContext)(h)},f=function(){var e=v(),t=e.query,c=e.setQuery,s=e.error;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{children:Object(m.jsx)("h1",{className:"text-gray-700 text-center mb-4 text-4xl mt-7",children:"Search Movie Here"})}),Object(m.jsxs)("form",{className:"search-form",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsx)("input",{type:"text",className:"form-input",value:t,onChange:function(e){return c(e.target.value)},placeholder:"search for a movie..."}),s.show&&Object(m.jsx)("div",{className:"text-red-400 text-xs font-semibold mt-3",children:s.msg})]})]})},p=function(){var e=v(),t=e.isLoading,c=e.movies;return t?Object(m.jsx)("div",{className:"loading"}):Object(m.jsx)("section",{className:"movies",children:c.map((function(e){var t=e.imdbID,c=e.Poster,s=e.Title,r=e.Year;return Object(m.jsx)(o.b,{to:"/movie/".concat(t),className:"movie font-bold",children:Object(m.jsxs)("article",{children:[Object(m.jsx)("img",{src:"N/A"===c?"https://www.prokerala.com/movies/assets/img/no-poster-available.jpg":c,alt:s}),Object(m.jsxs)("div",{className:"movie-info",children:[Object(m.jsx)("h4",{className:"title",children:s}),Object(m.jsx)("p",{children:r})]})]})},t)}))})},g=function(){return Object(m.jsxs)("main",{children:[Object(m.jsx)(f,{}),Object(m.jsx)(p,{})]})},N=c.p+"static/media/404.dfc5c5e6.gif",w=function(){return Object(m.jsx)("div",{className:"container mx-auto text-red-500 ",children:Object(m.jsxs)("section",{children:[Object(m.jsx)("img",{src:N,alt:"404",className:"mx-auto "}),Object(m.jsx)("h2",{className:"font-medium-bold text-3xl text-center",children:"404. page not found"})]})})};var y=function(){return Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/",children:Object(m.jsx)(g,{})}),Object(m.jsx)(i.a,{path:"/movie/:id",children:Object(m.jsx)(u,{})}),Object(m.jsx)(i.a,{path:"*",children:Object(m.jsx)(w,{})})]})};c(33);a.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(O,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(y,{})})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.653fedb2.chunk.js.map